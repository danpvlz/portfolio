---
import Section from "../../ui/Section.astro";
import Carousel from "./Carousel.astro";
import CircularButton from "../../CircularButton.astro";
import { getLangFromUrl, useTranslations } from "../../../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<Section
  id="home"
  extra="flex-1 min-h-[450px] md:min-h-700 mt-16 md:mt-0 bg-opacity-40"
>
  <div
    id="content"
    class="absolute top-32 md:top-40 left-0 right-0 flex justify-center flex-col items-center gap-10 md:gap-20 text-lg md:text-3xl pb-20 md:py-0 mt-4 cursor-default"
  >
    <div class="w-full max-w-7xl px-7 flex flex-col gap-10 md:gap-20">
      <span class="overflow-hidden">
        <span
          id="title"
          class="text-5xl md:text-8xl font-bold block md:flex gap-5 items-center break-words"
        >
          <h1>{t('h1.first')}{' '}<span class="text-primary">{t('h1.second')}</span></h1>
        </span>
      </span>
      <div class="relative">
        <div class="absolute left-28 -top-4 hidden lg:block">
          <CircularButton width="w-40" />
        </div>
        <div class="overflow-hidden">
          <div id="description" class="flex justify-end ml-auto max-w-3xl">
            <p>
              {t('description')}
            </p>
          </div>
        </div>
      </div>
    </div>
    <div
      id="carousel"
      class="transition-all italic duration-200 ease-in-out relative text-sm md:text-xl uppercase w-full bg-white-theme dark:bg-black shadow-md p-3 md:py-5 flex justify-between px-0 md:px-8 overflow-hidden"
    >
      <Carousel />
    </div>
    <div class="w-full max-w-7xl px-7 overflow-hidden">
      <p id="phrase" class="relative text-right text-base md:text-2xl">
        {t('inspiring.phrase.1')}{' '}<span class="font-bold">{t('inspiring.phrase.2')}</span>{' '}{t('inspiring.phrase.3')}{' '}<span
          class="font-bold">{t('inspiring.phrase.4')}</span
        >{' '}{t('inspiring.phrase.5')}
      </p>
    </div>
  </div>
</Section>
<style>
  @keyframes slideDown {
    0% {
      opacity: 0;
      transform: translateY(-150%);
    }
    50% {
      opacity: 1;
    }
    100% {
      opacity: 1;
      transform: translateY(0%);
    }
  }
  @keyframes slideUp {
    0% {
      opacity: 0;
      transform: translateY(150%);
    }
    50% {
      opacity: 1;
    }
    100% {
      opacity: 1;
      transform: translateY(0%);
    }
  }
  @keyframes appear {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  #content:not(.hide) #title {
    animation: slideUp 0.8s cubic-bezier(0, 0, 0, 0.99);
  }
  #content:not(.hide) #description {
    animation: slideUp 0.8s cubic-bezier(0, 0, 0, 0.99);
  }

  #content:not(.hide) #carousel {
    animation: appear 0.8s cubic-bezier(0, 0, 0, 0.99);
  }

  #content:not(.hide) #phrase {
    animation: slideUp 0.8s cubic-bezier(0, 0, 0, 0.99);
  }
</style>
